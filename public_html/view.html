<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title id="title">Book Name</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="../css/view.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar bg-transparent fixed-top mb-2">
        <div class="container-fluid">
            <a class="navbar-brand">Navbar</a>
            <form class="d-flex" role="search" id="searchForm">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
            <img id="userAccountImg" src="https://www.shareicon.net/data/512x512/2016/02/22/722964_button_512x512.png" class="rounded mx-auto d-block" alt="image user" style="margin: 0px !important; ">
        </div>
    </nav>
    <!-- Just For Spacing -->
    <div class="justForSpacing">
    </div>
    <!-- Book View Section -->
    <div class="container">
        <div class="card mb-3" style="max-width: auto;">
            <div class="row">
                <div class="col-md-3">
                    <img src="https://m.media-amazon.com/images/I/41K8NV99juL.jpg" class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title">Name of The Book</h5>
                        <!-- Rating -->
                        <div class="form-group">
                            <label for="">Rating</label>
                            <div class="">
                                <span class="star" data-value="1"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="2"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="3"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="4"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="5"><i class="bi bi-star"></i></span>
                            </div>
                        </div>
                        <p class="card-text">Martin Block</p>
                        <p class="card-text"><q id="book-description-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                                quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                                consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                                cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                                proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</q></p>
                        <p class="card-text"><small class="text-body-secondary">Published: 2010</small></p>
                        <p class="card-text"><small class="text-body-secondary"><cite>©️Copyright</cite></small></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- User Rating and Comment Section -->
    <div class="container">
        <div class="card mb-3">
            <div class="card-body">
                <h4 class="card-title">Rate and Comment on the Book</h4>
                <form>
                    <div class="rating">
                        <span class="star" data-value="1"><i class="bi bi-star"></i></span>
                        <span class="star" data-value="2"><i class="bi bi-star"></i></span>
                        <span class="star" data-value="3"><i class="bi bi-star"></i></span>
                        <span class="star" data-value="4"><i class="bi bi-star"></i></span>
                        <span class="star" data-value="5"><i class="bi bi-star"></i></span>
                    </div>
                    <script>
                        const rating = document.querySelector('.rating');
                        const stars = rating.querySelectorAll('.star');
                        const starIcons = rating.querySelectorAll('.star i');

                        let currentRating = 0;

                        stars.forEach((star) => {
                            star.addEventListener('click', () => {
                                const value = parseInt(star.getAttribute('data-value'));

                                if (value === currentRating) {
                                    currentRating = 0;
                                } else {
                                    currentRating = value;
                                }

                                updateStars();
                            });
                        });

                        function updateStars() {
                            starIcons.forEach((icon, index) => {
                                if (index < currentRating) {
                                    icon.classList.remove('bi-star');
                                    icon.classList.add('bi-star-fill');
                                } else {
                                    icon.classList.remove('bi-star-fill');
                                    icon.classList.add('bi-star');
                                }
                            });
                        }
                        </script>
                    <!-- Rating ends -->
                    <div class="form-group">
                        <label for="comment">Comment</label>
                        <textarea class="form-control" id="comment" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="card mb-3">
            <div class="row g-0 align-items-center">
                <div class="col-md-2 text-center">
                    <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="img-fluid rounded-circle avatar" alt="avatar" style="width: 50%;">
                </div>
                <div class="col-md-10">
                    <div class="card-body">
                        <h5 class="card-title">John Doe <button class="btn btn-outline-secondary like-button" style="float:right;"><i class="bi bi-heart"></i> Like</button></h5>
                        <div class="form-group">
                            <div class="">
                                <span class="star" data-value="1"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="2"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="3"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="4"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="5"><i class="bi bi-star"></i></span>
                            </div>
                        </div>
                        <p class="comment-text card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.</p>
                        <button class="read-more-button btn btn-link">Read More</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="card mb-3">
            <div class="row g-0 align-items-center">
                <div class="col-md-2 text-center">
                    <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="img-fluid rounded-circle avatar" alt="avatar" style="width: 50%;">
                </div>
                <div class="col-md-10">
                    <div class="card-body">
                        <h5 class="card-title">John Doe <button class="btn btn-outline-secondary like-button" style="float:right;"><i class="bi bi-heart"></i> Like</button></h5>
                        <div class="form-group">
                            <div class="">
                                <span class="star" data-value="1"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="2"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="3"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="4"><i class="bi bi-star"></i></span>
                                <span class="star" data-value="5"><i class="bi bi-star"></i></span>
                            </div>
                        </div>
                        <p class="comment-text card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ac fringilla odio. Quisque tempor ipsum nec tellus maximus, eu tristique purus sodales. Aliquam congue magna id odio lobortis consequat.</p>
                        <button class="read-more-button btn btn-link">Read More</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    const commentTexts = document.querySelectorAll('.comment-text');
    const readMoreButtons = document.querySelectorAll('.read-more-button');

    // Set maximum character limit
    const maxChars = 500;

    commentTexts.forEach((commentText, index) => {
        // Get text content of comment
        const comment = commentText.innerHTML;

        // Check if comment is too long
        if (comment.length > maxChars) {
            // Truncate comment and add read more link
            const truncatedComment = comment.substring(0, maxChars) + '...';
            commentText.innerHTML = truncatedComment;
            readMoreButtons[index].style.display = 'inline';

            // Add event listener to read more button
            readMoreButtons[index].addEventListener('click', () => {
                if (commentText.innerHTML === truncatedComment) {
                    commentText.innerHTML = comment;
                    readMoreButtons[index].innerHTML = 'Read Less';
                } else {
                    commentText.innerHTML = truncatedComment;
                    readMoreButtons[index].innerHTML = 'Read More';
                }
            });
        } else {
            // Hide read more button if comment is short enough
            readMoreButtons[index].style.display = 'none';
        }
    });
    </script>
    <script>
    const likeButtons = document.querySelectorAll('.like-button');

    likeButtons.forEach((button) => {
        button.addEventListener('click', () => {
            const count = parseInt(button.getAttribute('data-count')) || 0;
            button.setAttribute('data-count', count + 1);
            button.innerHTML = `<i class="bi bi-hand-thumbs-up"></i> Like (${count + 1})`;
        });
    });
    </script>
    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>

</html>